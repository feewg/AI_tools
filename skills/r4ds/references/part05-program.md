# Part V: Program（第25-27章）

本分册按章节提供：核心主题、关键概念、主要函数、完整代码示例、应用场景与注意事项。

## 第25章 Functions

### 核心主题
- 本章聚焦 Functions 的关键方法，并强调可复现实现。

### 关键概念
- 先明确问题，再选择合适数据结构与函数。
- 尽量把中间结果保留为可检查对象。
- 代码应可重复执行并便于复用。

### 主要函数/工具
| 函数 | 用途 |
|---|---|
| `function()` | 本章高频函数 |
| `range()` | 本章高频函数 |

### 代码示例
```r
library(tidyverse)

rescale01 <- function(x) {
  rng <- range(x, na.rm = TRUE)
  (x - rng[1]) / (rng[2] - rng[1])
}

tibble(x = c(1, 3, 5, 10)) |>
  mutate(x01 = rescale01(x))
```

### 实际应用场景
- 把重复逻辑封装为函数
- 将示例改写到业务字段后可直接集成到分析流程。

### 注意事项
- 先检查缺失值和字段类型，再下结论。
- 对应脚本：`scripts/part25_functions.R`

## 第26章 Iteration

### 核心主题
- 本章聚焦 Iteration 的关键方法，并强调可复现实现。

### 关键概念
- 先明确问题，再选择合适数据结构与函数。
- 尽量把中间结果保留为可检查对象。
- 代码应可重复执行并便于复用。

### 主要函数/工具
| 函数 | 用途 |
|---|---|
| `across()` | 本章高频函数 |
| `map()` | 本章高频函数 |

### 代码示例
```r
library(tidyverse)

df <- tibble(a = 1:3, b = c(2, 4, 6), c = c(3, 6, 9))
df |>
  summarize(across(everything(), mean))
```

### 实际应用场景
- 批量处理多列/多对象
- 将示例改写到业务字段后可直接集成到分析流程。

### 注意事项
- 先检查缺失值和字段类型，再下结论。
- 对应脚本：`scripts/part26_iteration.R`

## 第27章 A field guide to base R

### 核心主题
- 本章聚焦 A field guide to base R 的关键方法，并强调可复现实现。

### 关键概念
- 先明确问题，再选择合适数据结构与函数。
- 尽量把中间结果保留为可检查对象。
- 代码应可重复执行并便于复用。

### 主要函数/工具
| 函数 | 用途 |
|---|---|
| `[` | 本章高频函数 |
| `lapply()` | 本章高频函数 |

### 代码示例
```r
x <- c("one", "two", "three", "four")
x[c(3, 1)]

lst <- list(a = 1:3, b = 4:6)
lapply(lst, mean)
```

### 实际应用场景
- 读懂与维护 base R 代码
- 将示例改写到业务字段后可直接集成到分析流程。

### 注意事项
- 先检查缺失值和字段类型，再下结论。
- 对应脚本：`scripts/part27_base_r.R`
